#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ö–µ–º—ã –ë–î

echo "üöÄ –ó–∞–ø—É—Å–∫ PostgreSQL —á–µ—Ä–µ–∑ Docker Compose..."
docker-compose up -d postgres

echo "‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ PostgreSQL..."
sleep 5

echo "üìä –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ö–µ–º—ã..."
echo "–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:"
echo "docker exec -it constellation_postgres psql -U constellation_user -d constellation_db"
echo ""
echo "SQL –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ö–µ–º—ã:"
echo "\\dt                    -- —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü"
echo "\\d users              -- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã users"
echo "\\d teachers           -- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã teachers"  
echo "\\d students           -- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã students"
echo "\\d subjects           -- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã subjects"
echo "\\d lessons            -- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã lessons"
echo "\\d enrollments        -- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã enrollments"
echo "SELECT * FROM subjects; -- –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¶–î–ö"
echo ""
echo "–î–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ psql: \\q"
